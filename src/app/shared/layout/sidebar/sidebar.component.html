<!-- Sidebar Menu Desplegable - Marilo's Bakery -->
 @if(isOpen){

<div 
  class="fixed inset-0 z-50 overflow-hidden"
  (click)="onBackdropClick($event)"
  role="dialog"
  aria-modal="true"
  aria-labelledby="sidebar-title">
  
  <!-- Backdrop -->
  <div class="absolute inset-0 bg-bakery-deep/50 backdrop-blur-sm transition-opacity duration-300"></div>
  
  <!-- Sidebar Panel -->
  <div class="fixed left-0 top-0 h-full w-80 max-w-sm transform transition-transform duration-300 ease-in-out"
       (click)="$event.stopPropagation()">
    
    <!-- Panel Content -->
    <div class="flex flex-col h-full bg-gradient-to-b from-bakery-cream via-sweet-vanilla to-bakery-warm border-r border-bakery-gold/30 shadow-bakery">
      
      <!-- Header del Sidebar -->
      <div class="flex items-center justify-between p-6 border-b border-bakery-gold/20 bg-gradient-to-r from-sweet-peach/20 to-sweet-pink/20">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 rounded-full bg-gradient-to-r from-accent-caramel to-bakery-gold flex items-center justify-center">
            <!-- Icono de cupcake -->
            <svg class="w-5 h-5 text-bakery-cream" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2C10.89 2 10 2.89 10 4V5H8C6.89 5 6 5.89 6 7V8C4.89 8 4 8.89 4 10V18C4 19.11 4.89 20 6 20H18C19.11 20 20 19.11 20 18V10C20 8.89 19.11 8 18 8V7C18 5.89 17.11 5 16 5H14V4C14 2.89 13.11 2 12 2M12 4C12 4 12 4 12 4V5H12V4M8 7H16V8H8V7M6 10H18V18H6V10Z"/>
            </svg>
          </div>
          <div class="flex flex-col">
            <h2 id="sidebar-title" class="text-bakery-deep font-elegant font-bold text-lg leading-none">
              Marilo's Bakery
            </h2>
            <span class="text-accent-caramel text-sm font-script">Menú Principal</span>
          </div>
        </div>
        <button 
          type="button" 
          class="text-bakery-brown hover:text-bakery-deep transition-colors duration-200 p-2 rounded-lg hover:bg-sweet-peach/30 focus:outline-none focus:ring-2 focus:ring-accent-caramel"
          (click)="close()"
          aria-label="Cerrar menú">
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      
      <!-- Body del Sidebar -->
      <div class="flex-1 overflow-y-auto px-0 py-6 scrollbar-thin scrollbar-thumb-bakery-gold scrollbar-track-bakery-warm">
        <nav class="space-y-2">
          
          <!-- Sección: Navegación Principal -->
          <div class="px-6 mb-4">
            <h3 class="text-xs font-semibold text-bakery-brown uppercase tracking-wider mb-3 font-elegant">
              Navegación
            </h3>
            <div class="space-y-1">

              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-accent-honey to-bakery-gold text-white mr-3 group-hover:from-bakery-gold group-hover:to-accent-honey transition-all duration-200">
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l-7 7-7-7m7 7v10a1 1 0 01-1 1h-3" />
                  </svg>
                </div>
                <span class="font-medium">Inicio</span>
              </a>

              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/productos')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-accent-strawberry to-sweet-pink text-white mr-3 group-hover:from-sweet-pink group-hover:to-accent-strawberry transition-all duration-200">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2L13.09 8.26L22 9L17 14L18.18 22L12 19L5.82 22L7 14L2 9L10.91 8.26L12 2Z"/>
                  </svg>
                </div>
                <span class="font-medium">Nuestros Dulces</span>
              </a>
              
              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/ofertas')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-accent-cherry to-accent-strawberry text-white mr-3 group-hover:from-accent-strawberry group-hover:to-accent-cherry transition-all duration-200">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M9.5 3L8 4.5l2.5 2.5L8 9.5L9.5 11l2.5-2.5L14.5 11L16 9.5L13.5 7L16 4.5L14.5 3L12 5.5L9.5 3Z"/>
                  </svg>
                </div>
                <span class="font-medium">Ofertas Dulces</span>
              </a>
              
              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/contacto')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-sweet-mint to-accent-honey text-white mr-3 group-hover:from-accent-honey group-hover:to-sweet-mint transition-all duration-200">
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                  </svg>
                </div>
                <span class="font-medium">Visítanos</span>
              </a>
            </div>
          </div>
          
          <!-- Divider -->
          <div class="mx-6 border-t border-bakery-gold/20"></div>
          
          <!-- Sección: Gestión -->
          <div class="px-6 mt-4">
            <h3 class="text-xs font-semibold text-bakery-brown uppercase tracking-wider mb-3 font-elegant">
              Gestión
            </h3>
            <div class="space-y-1">
              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/admin')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-bakery-brown to-accent-chocolate text-white mr-3 group-hover:from-accent-chocolate group-hover:to-bakery-brown transition-all duration-200">
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                </div>
                <span class="font-medium">Panel Chef</span>
              </a>
            </div>
          </div>
          
          <!-- Divider -->
          <div class="mx-6 border-t border-bakery-gold/20"></div>
          
          <!-- Sección: Información -->
          <div class="px-6 mt-4">
            <h3 class="text-xs font-semibold text-bakery-brown uppercase tracking-wider mb-3 font-elegant">
              Información
            </h3>
            <div class="space-y-1">
              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/privacy-policy')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-sweet-lavender to-sweet-pink text-white mr-3 group-hover:from-sweet-pink group-hover:to-sweet-lavender transition-all duration-200">
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                  </svg>
                </div>
                <span class="font-medium">Política de Privacidad</span>
              </a>
              
              <a class="flex items-center px-3 py-2.5 text-bakery-deep hover:text-accent-caramel hover:bg-sweet-peach/30 rounded-lg transition-all duration-200 cursor-pointer group"
                 (click)="navigateAndClose('/terminos')">
                <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-r from-bakery-gold to-accent-honey text-white mr-3 group-hover:from-accent-honey group-hover:to-bakery-gold transition-all duration-200">
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                </div>
                <span class="font-medium">Términos de Uso</span>
              </a>
            </div>
          </div>
        </nav>
      </div>
      
      <!-- Footer del Sidebar -->
      <div class="border-t border-bakery-gold/20 bg-sweet-vanilla/50 p-4">
        <div class="flex items-center justify-center space-x-4 text-bakery-brown">
          <span class="text-sm font-script">© 2025 Marilo's Bakery</span>
          <div class="w-1 h-1 bg-accent-caramel rounded-full"></div>
          <span class="text-sm">Hecho con ❤️</span>
        </div>
      </div>
    </div>
  </div>
</div>

 }